const t={startBtn:document.querySelector(".js-button"),containerEl:document.querySelector(".js-container"),moneyEl:document.querySelector(".money"),basePriceEl:document.querySelector(".current-total"),cabinetEl:document.querySelector(".cabinet"),btnContainerEl:document.querySelector(".button-container"),statusEl:document.querySelector(".status"),backdropEl:document.querySelector(".backdrop"),timePolicyEl:document.querySelector(".time-policy"),policyContainerEl:document.querySelector(".policy"),closeModalBtn:document.querySelector(".close-btn"),cabinetBalnceEl:document.querySelector(".cabinet-balance-count"),formEl:document.querySelector(".js-operation-form"),addMoneyBtn:document.querySelector(".add-money"),takeMoneyBtn:document.querySelector(".take-money"),inputEl:document.querySelector(".js-operation-input"),messageCabinetInfo:document.querySelector(".info-cabinet"),toCabinetBtn:document.querySelector(".js-cabinet-btn")};let e,n=1,o=1;var s;let a=null!==(s=JSON.parse(localStorage.getItem("currentBalance")))&&void 0!==s?s:0;b(),f(),c(),m(),E(),y();const i=["0","1","2","3","4"];function c(){t.moneyEl.textContent=a}function l(){localStorage.setItem("currentBalance",a)}function r(){t.startBtn.setAttribute("disabled","disabled"),t.startBtn.classList.remove("active")}function u(t){t.classList.add("active")}function d(t){[...t.closest(".js-parrent").children].filter((t=>t.classList.contains("active"))).map((t=>t.classList.remove("active")))}function m(){t.basePriceEl.textContent=100*n}function E(){e=100*n,e>a?(r(),t.moneyEl.classList.add("lose")):(t.moneyEl.classList.remove("lose"),t.startBtn.removeAttribute("disabled"),t.startBtn.classList.add("active"))}function b(){a<100&&(t.moneyEl.classList.add("lose"),r(),E())}function y(){[...t.containerEl.children].forEach((t=>t.innerHTML="--"))}function f(){t.backdropEl.classList.remove("is-hidden"),L(t.cabinetEl),v(t.policyContainerEl);let e=5;t.timePolicyEl.textContent=e;const n=setInterval((()=>{e-=1,t.timePolicyEl.textContent=e,0===e&&(clearInterval(n),t.policyContainerEl.style.display="none",v(t.cabinetEl),I(t.closeModalBtn),L(t.messageCabinetInfo),t.backdropEl.addEventListener("click",p),t.formEl.addEventListener("input",B),t.formEl.addEventListener("submit",S),window.addEventListener("keydown",C),g())}),1e3)}function v(t){t.style.display="block"}function L(t){t.style.display="none"}function p(t){const e=t.target;(e.classList.contains("backdrop")||e.classList.contains("close-btn"))&&k()}function C(){"Escape"===event.code&&k()}function k(){a<100?t.statusEl.innerHTML='Please enter in your cabinet and up you balance to start. Minimum game price : <span style="color: rgb(0, 0, 255);">100</span> credits':t.statusEl.textContent="Press on button to check you luck",t.formEl.removeEventListener("input",B),t.formEl.removeEventListener("submit",S),t.backdropEl.classList.add("is-hidden"),t.backdropEl.removeEventListener("click",p),window.removeEventListener("keydown",C),M(t.closeModalBtn)}function g(){a<100?t.cabinetBalnceEl.classList.add("low"):t.cabinetBalnceEl.classList.remove("low"),t.cabinetBalnceEl.textContent=a}function B(e){"js-operation-input"===e.target.name&&(Number(e.target.value.trim())?(L(t.messageCabinetInfo),t.inputEl.classList.add("correct"),t.inputEl.classList.remove("incorrect"),I(t.addMoneyBtn),a>=Number(e.target.value.trim())?I(t.takeMoneyBtn):M(t.takeMoneyBtn)):""===t.inputEl.value?(L(t.messageCabinetInfo),q(),M(t.addMoneyBtn),M(t.takeMoneyBtn)):(t.inputEl.classList.add("incorrect"),t.inputEl.classList.remove("correct"),t.messageCabinetInfo.classList.add("error"),t.messageCabinetInfo.classList.remove("great"),t.messageCabinetInfo.textContent="Please, enter correct value!",v(t.messageCabinetInfo),M(t.addMoneyBtn),M(t.takeMoneyBtn)))}function S(e){event.preventDefault();const n=e.submitter;n.classList.contains("add-money")?(a+=Number(t.inputEl.value.trim()),t.messageCabinetInfo.textContent=`Thank you. Your balance up in ${Number(t.inputEl.value.trim())} credits. Good luck!`,h(),v(t.messageCabinetInfo),E()):n.classList.contains("take-money")&&(a-=Number(t.inputEl.value.trim()),t.messageCabinetInfo.textContent=`\nSuccessfully! Thank you for playing at our casino. ${Number(t.inputEl.value.trim())} credits will be credited to your card as soon as possible.`,h(),v(t.messageCabinetInfo),E()),t.formEl.reset(),M(t.addMoneyBtn),M(t.takeMoneyBtn),q(),l(),g(),c()}function I(t){t.removeAttribute("disabled")}function M(t){t.setAttribute("disabled","disabled")}function q(){t.inputEl.classList.remove("correct"),t.inputEl.classList.remove("incorrect")}function h(){t.messageCabinetInfo.classList.add("great"),t.messageCabinetInfo.classList.remove("error")}t.btnContainerEl.addEventListener("click",(function(s){event.preventDefault();const f=s.target;if("DIV"===f.nodeName)return;f.classList.contains("js-button")||f.classList.contains("current-total")?function(){t.statusEl.classList.remove("animate__backInDown"),t.statusEl.classList.remove("win"),t.statusEl.classList.remove("lose"),t.statusEl.textContent="Waiting for result. Good luck!!!",r(),y(),a-=e,c(),l();new Promise(((n,s)=>{setTimeout((()=>{if([...t.containerEl.children].forEach((t=>{const e=Math.floor(Math.random()*(3+o-1)+1);t.innerHTML=i[e]})),[...t.containerEl.children].every((e=>e.textContent===t.containerEl.firstElementChild.textContent))){const s=10*e*o;a+=s,function(e){t.statusEl.classList.add("win"),t.statusEl.textContent=`Congratulation! You won ${e} credits`,t.statusEl.classList.add("animate__backInDown")}(s),n("Wohoo")}else t.statusEl.textContent="LOSE, Try again",t.statusEl.classList.add("animate__backInDown"),t.statusEl.classList.add("lose"),a<100&&setTimeout((()=>{t.statusEl.classList.remove("win"),t.statusEl.classList.remove("lose"),t.statusEl.innerHTML='Please enter in your cabinet and up you balance to start. Minimum game price : <span style="color: rgb(0, 0, 255);">100</span> credits'}),1200),s("Error")}),500)})).then((t=>t)).catch((t=>t)).finally((()=>{c(),l(),b(),m(),E()}))}():f.classList.contains("kof-btn")?(v=f,n=v.dataset.kof,d(v),u(v),m(),E()):f.classList.contains("mode-btn")&&function(t){d(t),u(t),o=Number(t.dataset.mode)}(f);var v})),t.toCabinetBtn.addEventListener("click",f);
//# sourceMappingURL=index.15ce5362.js.map
