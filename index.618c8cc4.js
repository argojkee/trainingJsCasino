const t={startBtn:document.querySelector(".js-button"),containerEl:document.querySelector(".js-container"),moneyEl:document.querySelector(".money"),basePriceEl:document.querySelector(".current-total"),cabinetEl:document.querySelector(".cabinet"),btnContainerEl:document.querySelector(".button-container"),statusEl:document.querySelector(".status"),backdropEl:document.querySelector(".backdrop"),timePolicyEl:document.querySelector(".time-policy"),policyContainerEl:document.querySelector(".policy"),closeModalBtn:document.querySelector(".close-btn"),cabinetBalnceEl:document.querySelector(".cabinet-balance-count"),formEl:document.querySelector(".js-operation-form"),addMoneyBtn:document.querySelector(".add-money"),takeMoneyBtn:document.querySelector(".take-money"),inputEl:document.querySelector(".js-operation-input"),messageCabinetInfo:document.querySelector(".info-cabinet"),toCabinetBtn:document.querySelector(".js-cabinet-btn")};let e,n=1,s=1;var o;let a=null!==(o=JSON.parse(localStorage.getItem("currentBalance")))&&void 0!==o?o:0;a<100&&(t.moneyEl.classList.add("lose"),u(),b()),v(),c(),E(),b(),y();const i=["0","1","2","3","4"];function l(o){event.preventDefault(),b();const v=o.target;var L;"DIV"!==v.nodeName&&(v.classList.contains("js-button")||v.classList.contains("current-total")?function(){t.btnContainerEl.removeEventListener("click",l),a-=e;const n=[];u(),t.statusEl.classList.remove("animate__backInDown"),t.statusEl.classList.remove("win"),t.statusEl.classList.remove("lose"),t.statusEl.textContent="Waiting for result. Good luck!!!",y(),c(),r(),[...t.containerEl.children].forEach(((o,l)=>{var u;(u=l,new Promise((t=>{setTimeout((()=>{const e=Math.floor(Math.random()*(3+s-1)+1);t(i[e])}),500*u)}))).then((t=>{o.textContent=t,n.push(t)})).finally((()=>{if(n.length===[...t.containerEl.children].length){if(n.every((t=>t===n[0]))){const t=5*s*e;a+=t,f(t),c(),r()}else if(n[0]===n[1]||n[1]===n[2]){let t;t=1===s?e:e+e/2,console.log(t),a+=t,f(t),c(),r()}else t.statusEl.textContent="LOSE, Try again",t.statusEl.classList.add("animate__backInDown"),t.statusEl.classList.add("lose"),a<100&&setTimeout((()=>{t.statusEl.classList.remove("win"),t.statusEl.classList.remove("lose"),t.statusEl.innerHTML='Please enter in your cabinet and up you balance to start. Minimum game price : <span style="color: rgb(0, 0, 255);">100</span> credits'}),1200);b()}}))}))}():v.classList.contains("kof-btn")?(n=(L=v).dataset.kof,m(L),d(L),E(),b()):v.classList.contains("mode-btn")&&function(t){m(t),d(t),s=Number(t.dataset.mode)}(v))}function c(){t.moneyEl.textContent=a}function r(){localStorage.setItem("currentBalance",a)}function u(){t.startBtn.setAttribute("disabled","disabled"),t.startBtn.classList.remove("active")}function d(t){t.classList.add("active")}function m(t){[...t.closest(".js-parrent").children].filter((t=>t.classList.contains("active"))).map((t=>t.classList.remove("active")))}function E(){t.basePriceEl.textContent=100*n}function b(){e=100*n,a<100?(t.btnContainerEl.removeEventListener("click",l),t.moneyEl.classList.add("lose")):e>a?(u(),t.moneyEl.classList.add("lose"),t.btnContainerEl.addEventListener("click",l)):(t.btnContainerEl.addEventListener("click",l),t.moneyEl.classList.remove("lose"),t.startBtn.removeAttribute("disabled"),t.startBtn.classList.add("active")),[...t.btnContainerEl.querySelectorAll(".kof-btn")].filter((t=>t.classList.contains("kof-btn"))).forEach((t=>{a<100*t.dataset.kof?q(t):M(t)}))}function y(){[...t.containerEl.children].forEach((t=>t.innerHTML="--"))}function f(e){t.statusEl.classList.add("win"),t.statusEl.textContent=`Congratulation! You won ${e} credits`,t.statusEl.classList.add("animate__backInDown")}function v(){t.backdropEl.classList.remove("is-hidden"),p(t.cabinetEl),L(t.policyContainerEl);let e=5;t.timePolicyEl.textContent=e;const n=setInterval((()=>{e-=1,t.timePolicyEl.textContent=e,0===e&&(clearInterval(n),t.policyContainerEl.style.display="none",L(t.cabinetEl),M(t.closeModalBtn),p(t.messageCabinetInfo),t.backdropEl.addEventListener("click",k),t.formEl.addEventListener("input",S),t.formEl.addEventListener("submit",I),window.addEventListener("keydown",C),B())}),1e3)}function L(t){t.style.display="block"}function p(t){t.style.display="none"}function k(t){const e=t.target;(e.classList.contains("backdrop")||e.classList.contains("close-btn"))&&g()}function C(){"Escape"===event.code&&g()}function g(){b(),a<100?t.statusEl.innerHTML='Please enter in your cabinet and up your balance to start. Minimum game price : <span style="color: rgb(0, 0, 255);">100</span> credits':t.statusEl.textContent="Press on button to check your luck",t.statusEl.classList.remove("win"),t.statusEl.classList.remove("lose"),t.formEl.removeEventListener("input",S),t.formEl.removeEventListener("submit",I),t.backdropEl.classList.add("is-hidden"),t.backdropEl.removeEventListener("click",k),window.removeEventListener("keydown",C),q(t.closeModalBtn)}function B(){a<100?t.cabinetBalnceEl.classList.add("low"):t.cabinetBalnceEl.classList.remove("low"),t.cabinetBalnceEl.textContent=a}function S(e){"js-operation-input"===e.target.name&&(Number(e.target.value.trim())?(p(t.messageCabinetInfo),t.inputEl.classList.add("correct"),t.inputEl.classList.remove("incorrect"),M(t.addMoneyBtn),a>=Number(e.target.value.trim())?M(t.takeMoneyBtn):q(t.takeMoneyBtn)):""===t.inputEl.value?(p(t.messageCabinetInfo),h(),q(t.addMoneyBtn),q(t.takeMoneyBtn)):(t.inputEl.classList.add("incorrect"),t.inputEl.classList.remove("correct"),t.messageCabinetInfo.classList.add("error"),t.messageCabinetInfo.classList.remove("great"),t.messageCabinetInfo.textContent="Please, enter correct value!",L(t.messageCabinetInfo),q(t.addMoneyBtn),q(t.takeMoneyBtn)))}function I(e){event.preventDefault();const n=e.submitter;n.classList.contains("add-money")?(a+=Number(t.inputEl.value.trim()),t.messageCabinetInfo.textContent=`Thank you. Your balance up in ${Number(t.inputEl.value.trim())} credits. Good luck!`,w(),L(t.messageCabinetInfo),b()):n.classList.contains("take-money")&&(a-=Number(t.inputEl.value.trim()),t.messageCabinetInfo.textContent=`\nSuccessfully! Thank you for playing at our casino. ${Number(t.inputEl.value.trim())} credits will be credited to your card as soon as possible.`,w(),L(t.messageCabinetInfo),b()),t.formEl.reset(),q(t.addMoneyBtn),q(t.takeMoneyBtn),h(),r(),B(),c()}function M(t){t.removeAttribute("disabled")}function q(t){t.setAttribute("disabled","disabled")}function h(){t.inputEl.classList.remove("correct"),t.inputEl.classList.remove("incorrect")}function w(){t.messageCabinetInfo.classList.add("great"),t.messageCabinetInfo.classList.remove("error")}t.btnContainerEl.addEventListener("click",l),t.toCabinetBtn.addEventListener("click",v);
//# sourceMappingURL=index.618c8cc4.js.map
